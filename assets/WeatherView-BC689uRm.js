import{_ as y,c,a as e,w as m,b as w,v as g,t as l,d as h,o as p}from"./index-EZuAnFjS.js";const u="8be69ae744df69dce08d56cd0ac0f417",f={name:"WeatherView",data(){return{city:"",lat:null,lon:null,weatherData:null,displayCity:""}},computed:{temperature(){return this.weatherData?Math.floor(this.weatherData.current.temp):null},iconUrl(){return this.weatherData?`https://openweathermap.org/img/wn/${this.weatherData.current.weather[0].icon}@2x.png`:null}},methods:{async searchByCity(){if(this.city)try{const i=`https://api.openweathermap.org/geo/1.0/direct?q=${this.city}&limit=1&appid=${u}`,t=await h.get(i);if(!t.data.length){alert("City not found");return}const{lat:o,lon:s,name:a,country:r}=t.data[0];this.lat=o,this.lon=s,this.displayCity=`${a}, ${r}`;const n=`https://api.openweathermap.org/data/3.0/onecall?lat=${o}&lon=${s}&exclude=minutely,hourly,alerts&appid=${u}&units=metric`,d=await h.get(n);this.weatherData=d.data}catch(i){console.error("Error fetching weather data:",i)}}}},_={class:"weather-container"},C={key:0},D=["src"];function x(i,t,o,s,a,r){return p(),c("div",_,[t[2]||(t[2]=e("h1",null,"WEATHER APP",-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>a.city=n),placeholder:"Enter city name"},null,512),[[g,a.city]]),e("button",{onClick:t[1]||(t[1]=(...n)=>r.searchByCity&&r.searchByCity(...n))},"Search"),a.weatherData?(p(),c("main",C,[e("h2",null,l(a.displayCity),1),e("div",null,[e("img",{src:r.iconUrl,alt:"Weather Icon"},null,8,D),e("p",null,l(r.temperature)+" Â°C",1)]),e("span",null,l(a.weatherData.current.weather[0].description),1)])):w("",!0)])}const B=y(f,[["render",x],["__scopeId","data-v-8584a2b1"]]);export{B as default};
